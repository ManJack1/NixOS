# ============================================
# Kitty 终端配置文件
# 由 Home Manager 生成
# 官方文档: https://sw.kovidgoyal.net/kitty/conf.html
# ============================================

# ============================================
# Shell 配置
# ============================================
# 指定使用的 shell
shell zsh
# 禁用 shell 集成的 rc 配置 (手动管理)
shell_integration no-rc
# 关闭窗口时不显示确认对话框
confirm_os_window_close 0

# ============================================
# 字体配置
# ============================================
# 字体大小
font_size 14
# 主字体 (英文和符号)
font_family Maple Mono NF
# 中文字符映射 (U+4E00-U+9FFF 是常用汉字范围)
symbol_map U+4E00-U+9FFF LXGW WenKai Mono

# ============================================
# Shell 启动命令
# ============================================
# 启动时自动进入 tmux 会话
shell /etc/profiles/per-user/manjack/bin/zsh --login -c '/etc/profiles/per-user/manjack/bin/tmux new-session -A -D -s 󰄛'

# ============================================
# 光标和 UI 配置
# ============================================
# 光标样式 (block=方块, beam=竖线, underline=下划线)
cursor_shape block
# 光标闪烁
cursor_blink yes
# 光标闪烁间隔 (毫秒)
cursor_blink_interval 1000
# 光标拖尾效果 (1-4, 数字越大拖尾越长)
cursor_trail 1
# 终端类型
term xterm-256color
# 记住窗口大小
remember_window_size yes
# 隐藏标题栏 (仅保留窗口控制按钮)
hide_window_decorations titlebar-only

# ============================================
# 键盘映射 - 特殊 ANSI 码
# ============================================
# 这些映射让 Neovim/Tmux 能识别更多 Ctrl 组合键
map ctrl+' send_text all \x1b[39;5u
map ctrl+( send_text all \x1b[40;5u
map ctrl+) send_text all \x1b[41;5u
map ctrl+, send_text all \x1b[44;5u
map ctrl++ send_text all \x1b[43;5u
map ctrl+- send_text all \x1b[45;5u
map ctrl+. send_text all \x1b[46;5u
map ctrl+; send_text all \x1b[59;5u
map ctrl+= send_text all \x1b[61;5u
map ctrl+/ send_text all \x1b[47;5u
map ctrl+~ send_text all \x1b[126;5u
map ctrl+` send_text all \x1b[96;5u
# 将 Caps Lock 映射为 F13 (常用于 Neovim leader key)
map caps_lock send_key f13
# F4 切换最大化窗口
map f4 toggle_maximized

# ============================================
# macOS 特定配置
# ============================================
# Option 键作为 Alt 键使用
macos_option_as_alt yes
# 不在窗口标题栏显示标题
macos_show_window_title_in none

# ============================================
# URL 和链接配置
# ============================================
# 自动检测 URL
detect_urls yes
# URL 下划线样式 (none, straight, double, curly, dotted, dashed)
url_style curly
# URL 颜色
url_color #73daca
# 使用默认浏览器打开链接
open_url_with default

# ============================================
# 鼠标配置
# ============================================
# Ctrl + 左键点击: 打开 URL 或选中文本
mouse_map ctrl+left click ungrabbed mouse_handle_click selection link prompt
# Shift + 左键点击: 也可以打开 URL (备用方案)
mouse_map shift+left click grabbed,ungrabbed mouse_handle_click selection link prompt
# 选中文本时自动复制到剪贴板
copy_on_select yes

# ============================================
# Hints 模式快捷键 (推荐)
# ============================================
# Ctrl + Shift + E: 显示所有可点击的 URL/路径
map ctrl+shift+e kitten hints
# Ctrl + Shift + P > F: 显示文件路径 hints
map ctrl+shift+p>f kitten hints --type path --program -
# Ctrl + Shift + P > L: 显示行号 hints
map ctrl+shift+p>l kitten hints --type line --program -
# Ctrl + Shift + P > H: 显示 Git hash hints
map ctrl+shift+p>h kitten hints --type hash --program -

# ============================================
# 滚动和历史记录
# ============================================
# 回滚缓冲区行数 (可以向上滚动查看的历史行数)
scrollback_lines 2000

# ============================================
# 远程控制
# ============================================
# 允许其他程序控制 Kitty (用于脚本或插件)
allow_remote_control yes

# ============================================
# Tokyo Night Storm 主题配置
# ============================================
# 背景色
background #24283b
# 前景色 (文字颜色)
foreground #c0caf5
# 选中文本背景色
selection_background #2e3c64
# 选中文本前景色
selection_foreground #c0caf5
# 光标颜色
cursor #c0caf5
# 光标上的文字颜色
cursor_text_color #24283b

# ============================================
# 标签页配置
# ============================================
# 激活标签页的背景色
active_tab_background #7aa2f7
# 激活标签页的文字颜色
active_tab_foreground #1f2335
# 非激活标签页的背景色
inactive_tab_background #292e42
# 非激活标签页的文字颜色
inactive_tab_foreground #545c7e
# 标签栏背景色
tab_bar_background #1d202f

# ============================================
# 窗口边框配置
# ============================================
# 激活窗口的边框颜色
active_border_color #7aa2f7
# 非激活窗口的边框颜色
inactive_border_color #292e42

# ============================================
# ANSI 颜色 - 普通色
# ============================================
# 黑色
color0 #1d202f
# 红色
color1 #f7768e
# 绿色
color2 #9ece6a
# 黄色
color3 #e0af68
# 蓝色
color4 #7aa2f7
# 品红
color5 #bb9af7
# 青色
color6 #7dcfff
# 白色
color7 #a9b1d6

# ============================================
# ANSI 颜色 - 高亮色
# ============================================
# 亮黑色 (灰色)
color8  #414868
# 亮红色
color9  #ff899d
# 亮绿色
color10 #9fe044
# 亮黄色
color11 #faba4a
# 亮蓝色
color12 #8db0ff
# 亮品红
color13 #c7a9ff
# 亮青色
color14 #a4daff
# 亮白色
color15 #c0caf5

# ============================================
# 扩展颜色 (256 色支持)
# ============================================
# 橙色
color16 #ff9e64
# 深红色
color17 #db4b4b
