# ============================================
# Kitty 终端配置文件
# 由 Home Manager 生成
# 官方文档: https://sw.kovidgoyal.net/kitty/conf.html
# ============================================

# ============================================
# Shell 配置
# ============================================
# 指定使用的 shell
shell zsh
# 禁用 shell 集成的 rc 配置 (手动管理)
shell_integration no-rc
# 关闭窗口时不显示确认对话框
confirm_os_window_close 0

# ============================================
# 字体配置
# ============================================
# 字体大小
font_size 14
# 主字体 (英文和符号)
font_family Maple Mono NF
# 中文字符映射 (U+4E00-U+9FFF 是常用汉字范围)
symbol_map U+4E00-U+9FFF LXGW WenKai Mono

# ============================================
# Shell 启动命令
# ============================================
# 启动时自动进入 tmux 会话
shell /etc/profiles/per-user/manjack/bin/zsh --login -c '/etc/profiles/per-user/manjack/bin/tmux new-session -A -D -s 󰄛'

# ============================================
# 光标和 UI 配置
# ============================================
# 光标样式 (block=方块, beam=竖线, underline=下划线)
cursor_shape block
# 光标闪烁
cursor_blink yes
# 光标闪烁间隔 (毫秒)
cursor_blink_interval 1000
# 光标拖尾效果 (1-4, 数字越大拖尾越长)
cursor_trail 1
# 终端类型
term xterm-256color
# 记住窗口大小
remember_window_size yes
# 隐藏标题栏 (仅保留窗口控制按钮)
hide_window_decorations titlebar-only

# ============================================
# 键盘映射 - 特殊 ANSI 码
# ============================================
# 这些映射让 Neovim/Tmux 能识别更多 Ctrl 组合键
map ctrl+' send_text all \x1b[39;5u
map ctrl+( send_text all \x1b[40;5u
map ctrl+) send_text all \x1b[41;5u
map ctrl+, send_text all \x1b[44;5u
map ctrl++ send_text all \x1b[43;5u
map ctrl+- send_text all \x1b[45;5u
map ctrl+. send_text all \x1b[46;5u
map ctrl+; send_text all \x1b[59;5u
map ctrl+= send_text all \x1b[61;5u
map ctrl+/ send_text all \x1b[47;5u
map ctrl+~ send_text all \x1b[126;5u
map ctrl+` send_text all \x1b[96;5u
# 将 Caps Lock 映射为 F13 (常用于 Neovim leader key)
map caps_lock send_key f13
# F4 切换最大化窗口
map f4 toggle_maximized

# ============================================
# macOS 特定配置
# ============================================
# Option 键作为 Alt 键使用
macos_option_as_alt yes
# 不在窗口标题栏显示标题
macos_show_window_title_in none

# ============================================
# URL 和链接配置
# ============================================
# 自动检测 URL
detect_urls yes
# URL 下划线样式 (none, straight, double, curly, dotted, dashed)
url_style curly
# URL 颜色
url_color #73daca
# 使用默认浏览器打开链接
open_url_with default

# ============================================
# 鼠标配置
# ============================================
# Ctrl + 左键点击: 打开 URL 或选中文本
mouse_map ctrl+left click ungrabbed mouse_handle_click selection link prompt
# Shift + 左键点击: 也可以打开 URL (备用方案)
mouse_map shift+left click grabbed,ungrabbed mouse_handle_click selection link prompt
# 选中文本时自动复制到剪贴板
copy_on_select yes

# ============================================
# Hints 模式快捷键 (推荐)
# ============================================
# Ctrl + Shift + E: 显示所有可点击的 URL/路径
map ctrl+shift+e kitten hints
# Ctrl + Shift + P > F: 显示文件路径 hints
map ctrl+shift+p>f kitten hints --type path --program -
# Ctrl + Shift + P > L: 显示行号 hints
map ctrl+shift+p>l kitten hints --type line --program -
# Ctrl + Shift + P > H: 显示 Git hash hints
map ctrl+shift+p>h kitten hints --type hash --program -

# ============================================
# 滚动和历史记录
# ============================================
# 回滚缓冲区行数 (可以向上滚动查看的历史行数)
scrollback_lines 2000

# ============================================
# 远程控制
# ============================================
# 允许其他程序控制 Kitty (用于脚本或插件)
allow_remote_control yes

# ============================================
# catppuccin mocha 主题配置
# ============================================
# vim:ft=kitty

## name:     Catppuccin Kitty Mocha
## author:   Catppuccin Org
## license:  MIT
## upstream: https://github.com/catppuccin/kitty/blob/main/themes/mocha.conf
## blurb:    Soothing pastel theme for the high-spirited!



# The basic colors
foreground              #cdd6f4
background              #1e1e2e
selection_foreground    #1e1e2e
selection_background    #f5e0dc

# Cursor colors
cursor                  #f5e0dc
cursor_text_color       #1e1e2e

# URL underline color when hovering with mouse
url_color               #f5e0dc

# Kitty window border colors
active_border_color     #b4befe
inactive_border_color   #6c7086
bell_border_color       #f9e2af

# OS Window titlebar colors
wayland_titlebar_color system
macos_titlebar_color system

# Tab bar colors
active_tab_foreground   #11111b
active_tab_background   #cba6f7
inactive_tab_foreground #cdd6f4
inactive_tab_background #181825
tab_bar_background      #11111b

# Colors for marks (marked text in the terminal)
mark1_foreground #1e1e2e
mark1_background #b4befe
mark2_foreground #1e1e2e
mark2_background #cba6f7
mark3_foreground #1e1e2e
mark3_background #74c7ec

# The 16 terminal colors

# black
color0 #45475a
color8 #585b70

# red
color1 #f38ba8
color9 #f38ba8

# green
color2  #a6e3a1
color10 #a6e3a1

# yellow
color3  #f9e2af
color11 #f9e2af

# blue
color4  #89b4fa
color12 #89b4fa

# magenta
color5  #f5c2e7
color13 #f5c2e7

# cyan
color6  #94e2d5
color14 #94e2d5

# white
color7  #bac2de
color15 #a6adc8
